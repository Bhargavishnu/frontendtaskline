{"ast":null,"code":"import _classCallCheck from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bhargavcn/taskboardproject/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Redirect}from'react-router-dom';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.state={uid:\"0\",authToken:\"\",baseURL:\"https://task-line.herokuapp.com\"};return _this;}_createClass(Home,[{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var formdata=new FormData(event.target);var sendData=new URLSearchParams({'username':formdata.get(\"username\"),'password':formdata.get(\"password\")});var responseCode=404;var username=formdata.get(\"username\");fetch(this.state.baseURL+\"/login\",{method:'POST',body:sendData}).then(function(res){responseCode=res.status;if(responseCode==200){return res.json();}}).then(function(data){if(data){var token=data[\"token\"];var userid=data[\"id\"];_this2.state.uid=userid;_this2.state.authToken=token;_this2.props.history.push({pathname:'/dashboard',state:{uid:_this2.state.uid,authToken:_this2.state.authToken,baseURL:_this2.state.baseURL}});}else{document.getElementById(\"errorMessage\").innerHTML=\"Invalid Credentials!!!\";}});}},{key:\"componentDidMount\",value:function componentDidMount(){document.getElementsByTagName('body')[0].style.backgroundColor=\"black\";}},{key:\"render\",value:function render(){var mystyle={marginTop:\"30vh\"};return React.createElement(\"div\",{className:\"ui middle aligned center aligned grid login-component\",style:mystyle},React.createElement(\"div\",{className:\"column\",style:{color:\"firebrick\"}},React.createElement(\"h2\",{className:\"ui teal image header\"},React.createElement(\"div\",{className:\"content\"},\"LOGIN FOR \",React.createElement(\"div\",{className:\"extras\"},\"TASKS\"))),React.createElement(\"form\",{className:\"ui large form\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"ui stacked segment\",style:{borderRadius:\"3%\",backgroundColor:\"rgba(69, 62, 62, 0.5)\"}},React.createElement(\"div\",{className:\"field\"},React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"i\",{className:\"user icon\"}),React.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username \"}))),React.createElement(\"div\",{className:\"field \"},React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"i\",{className:\"lock icon\"}),React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\"}))),React.createElement(\"button\",{type:\"submit\",className:\"ui fluid large submit button\"},\"LOGIN\"))),React.createElement(\"div\",{id:\"errorMessage\",style:{color:\"white\"}})));}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/Users/bhargavcn/taskboardproject/src/components/Home.js"],"names":["React","Redirect","Home","props","handleSubmit","bind","state","uid","authToken","baseURL","event","preventDefault","formdata","FormData","target","sendData","URLSearchParams","get","responseCode","username","fetch","method","body","then","res","status","json","data","token","userid","history","push","pathname","document","getElementById","innerHTML","getElementsByTagName","style","backgroundColor","mystyle","marginTop","color","borderRadius","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  { Redirect } from 'react-router-dom';\n\nclass Home extends React.Component{\n  \n    \n    constructor(props) \n    {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.state = { uid : \"0\", authToken : \"\" ,baseURL:\"https://task-line.herokuapp.com\"};\n    }\n    \n    \n    \n    handleSubmit(event) {\n        event.preventDefault();\n        \n        const formdata = new FormData(event.target);\n        \n        const sendData = new URLSearchParams({'username': formdata.get(\"username\"),'password' : formdata.get(\"password\")});\n        \n        var  responseCode = 404;\n        \n        var username = formdata.get(\"username\");\n        \n        fetch(this.state.baseURL+\"/login\",{method: 'POST' ,body: sendData })\n        .then(res => \n              { \n            responseCode = res.status;\n      \n                if (responseCode == 200 )\n                    {\n                        return res.json(); \n                    }\n              })\n        .then( data => \n              {\n                    if ( data )\n                        {\n                            var token = data[\"token\"];\n                            var userid = data[\"id\"];\n                            this.state.uid = userid;\n                            this.state.authToken = token;\n                            this.props.history.push( {\n                                    pathname: '/dashboard',\n                                    state: { uid : this.state.uid , authToken : this.state.authToken , baseURL: this.state.baseURL }\n                                    });\n                            \n                        }\n                    else\n                    {\n                        document.getElementById(\"errorMessage\").innerHTML=\"Invalid Credentials!!!\";\n                    }\n            });\n        \n    }\n            \n            \n            \n       componentDidMount() \n    {\n        document.getElementsByTagName('body')[0].style.backgroundColor=\"black\";\n    }\n\n                \n        \n    \n    render(){\n        \n         const mystyle = {\n            marginTop:\"30vh\"\n            };\n        return(\n            <div className=\"ui middle aligned center aligned grid login-component\" style ={mystyle}>\n            <div className=\"column\" style={{color:\"firebrick\"}}>\n            <h2 className=\"ui teal image header\">\n            <div className=\"content\">\n                LOGIN FOR <div className=\"extras\">TASKS</div>\n            </div>\n            </h2>\n            <form className=\"ui large form\" onSubmit={this.handleSubmit} >\n            <div className=\"ui stacked segment\" style={{borderRadius:\"3%\",\n              backgroundColor:\"rgba(69, 62, 62, 0.5)\"}}>\n                <div className=\"field\" >\n                <div className=\"ui left icon input\">\n                <i className=\"user icon\"></i>\n                <input type=\"text\" name=\"username\" placeholder=\"Username \"/>\n                </div>\n                </div>\n                <div className=\"field \">\n                <div className=\"ui left icon input\">\n                    <i className=\"lock icon\"></i>\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\"/>\n                </div>\n            </div>\n\n            \n            <button type=\"submit\" className=\"ui fluid large submit button\">LOGIN</button>\n      </div>\n    </form>\n    \n    <div id=\"errorMessage\"  style={{color:\"white\"}}></div>\n  </div>\n</div>\n            \n        )\n        \n    }\n    \n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}